<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Hugpo-PWA</title>
    <script src="js/registraServiceWorker.js"></script>

    <!-- Ícono para la página web. Debe ponerse en la raíz de la página. -->
    <link rel="icon" sizes="32x32" href="favicon.ico">

    <!-- Color de la barra de navegación de Chrome en dispositivos móviles. -->
    <meta name="theme-color" content="#81d4f4">

    <!-- Configuración de la PWA: Chrome y Edge. -->
    <link rel="manifest" href="manifest.json">

    <!-- Configuración para Web Clip en Safari. -->
    <meta name="apple-mobile-web-app-title" content="dmppwa">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="img/icono2048.png">
    <link rel="apple-touch-icon" sizes="256x256" href="img/icono256.png">
    <link rel="apple-touch-icon" sizes="1024x1024" href="img/icono1024.png">
    <link rel="apple-touch-icon" sizes="2048x2048" href="img/icono2048.png">

    <script type="module" src="cmp/mi-footer.js"></script>
    <link rel="stylesheet" href="css/estilos.css">
    <script>
      class CampoDinámico extends HTMLElement {
        connectedCallback() {
          this.ganaFoco = this.ganaFoco.bind(this);
          this.pierdeFoco = this.pierdeFoco.bind(this);
          this.addEventListener("focus", this.ganaFoco, true);
          this.addEventListener("focusout", this.pierdeFoco, true);
        }
        get control() {
          return this.querySelector("input,textarea,select");
        }
        ganaFoco() {
          this.control.classList.remove("control_sin_foco");
        }
        pierdeFoco() {
          const control = this.control;
          if (control.value.length === 0) {
            control.classList.remove("control_sin_foco");
          } else {
            control.classList.add("control_sin_foco");
          }
        }
      }
      customElements.define("campo-dinámico", CampoDinámico);
    </script>
  <body>
    <form action="javascript:;">
      <header>
        <div class="toolbar">
          <h1>Layout</h1>
          <span class="acciones">
            <button><span class="material-icons">save</span></button>
          </span>
        </div>
      </header>
      <div class="contenido">
        <p>User Agent: <output id="agent"></output></p>
        <campo-dinámico>
          <input id="nombre" required>
          <label for="nombre">Nombre</label>
          <small>Requerido</small>
        </campo-dinámico>
        <campo-dinámico>
          <input id="email" type="email">
          <!-- <input id="email" type="email" autocomplete="off"> -->
          <label for="email">Email</label>
        </campo-dinámico>
        <campo-dinámico>
          <!--
          textarea
            Control de captura de texto de varios renglones.
          rows="3"
            Número de renglones. -->
          <textarea id="dirección" rows="3" required></textarea>
          <label for="dirección">Dirección</label>
        </campo-dinámico>
        <campo-dinámico>
          <select id="grupo">
            <option value=""></option>
            <option value="IC21">IC-21</option>
            <option value="IC22">IC-22</option>
            <option value="IC23">IC-23</option>
          </select>
          <label for="grupo">Grupo</label>
        </campo-dinámico>
        
      </div>
    </form>
   
    <footer>
      <p>
        <mi-footer></mi-footer>
      </p>
    </footer>
    <script>
      // Recupera la descripción del navegador en que se ejecuta este código.
      var userAgent = navigator.userAgent || navigator.vendor || window.opera;
      agent.value = userAgent;
      if (/android/i.test(userAgent)) {
        document.body.classList.add("android");
      }
      if (/iPad|iPhone|iPod|Mac/.test(userAgent) && !window.MSStream) {
        document.body.classList.add('ios');
      }
    </script>
  </body>
</html>